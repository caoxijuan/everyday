<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>漠丶叹尘的空间</title>
    <link rel="icon" sizes="any" mask href="http://qzonestyle.gtimg.cn/qzone/v8/img/Qzone.svg">
    <link rel="stylesheet" type="text/css" href="css/index.css">
</head>

<body>
    <div class="header">
        This is the head nav
    </div>
    <div class="topInfo">
        <span class="edit">编辑</span>
        <div class="zoneName">
            <h2>漠丶叹尘 的空间</h2>
            <p>知我者，谓我心忧。不知我者，谓我何求。</p>
        </div>
        <div class="support">
            <img src="image/support_1.png" alt="赞">
            <span class="num">7</span>
        </div>
        <div class="tips">7人赞过</div>
        <!-- bottom nav -->
        <div class="top_bottom">
            <div class="photo">
                <img src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124">
            </div>
            <div class="uploadphoto">修改头像</div>
            <div class="container">
                <ul class="section">
                    <li>主页</li>
                    <li>日志</li>
                    <li>相册</li>
                    <li>留言板</li>
                    <li>说说</li>
                    <li>个人档</li>
                    <li>音乐</li>
                    <li>更多</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- 下面实现留言板功能 -->
    <div class="mainframe">
        <div class="title">留言板</div>
        <div class="message">主人寄语</div>
        <div class="info">
            这是主人留下的寄语~
        </div>
        <div class="content" contenteditable="true"></div>
        <input type="button" name="submit" value="发表" class="subbtn">
        <div class="numofmessage">留言(0)</div>
        <!-- 下面是留言区 -->
        <div class="msgFrame">
            <div class="content_1">
                <img class="name" src="http://qlogo3.store.qq.com/qzone/1262283870/1262283870/100?1481718124" alt="photo">
                <div class="mainInfo">
                    <div class="userId"><a href="#">zipple</a></div>
                    <div class="conInfo">
                        这是一条留言。
                    </div>
                    <div class="time">2016-12-19 23:46:11</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let publish = document.querySelector('.subbtn')
        let num = document.querySelector('.numofmessage')
        let count = 0
        publish.onclick = function() {
            let text = document.querySelector('.content').innerHTML
            if (text.trim().length == 0) {
                alert('您还没有输入任何内容')
                return false
            } else {
                let content = document.querySelector('.content_1')
                let newContent = content.cloneNode(true)
                console.log(newContent)
                newContent.children[0].src = "./image/1.jpg"
                newContent.children[1].children[0].children[0].innerHTML = "范志伟"
                newContent.children[1].children[1].innerHTML = text
                let date = new Date()
                let year = date.getFullYear()
                let month = date.getMonth() + 1
                let day = date.getDate()
                let hour = date.getHours()
                let minutes = date.getMinutes()
                let seconds = date.getSeconds()
                let now = `${year}-${month}-${day} ${hour}:${minutes}:${seconds}`
                newContent.children[1].children[2].innerHTML = now
                let father = document.querySelector(".msgFrame")
                father.insertBefore(newContent, father.children[0])
                document.querySelector(".content").innerHTML = ""
                count++
                num.innerText = `留言(${count})`
            }
        }
    </script>
</body>

</html>